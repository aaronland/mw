<!DOCTYPE html>
<!--[if IE 6]>
<html id="ie6" lang="en-US">
<![endif]-->
<!--[if IE 7]>
<html id="ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html id="ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->

<!-- Mirrored from mw2013.museumsandtheweb.com/paper/3817/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 23 Apr 2022 21:28:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>Using Commodity Hardware as an Affordable Means to Track On-site Visitor Flow | MW2013: Museums and the Web 2013</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="../../wp-content/themes/twentyeleven/style.css" />
<link rel="pingback" href="../../xmlrpc.php" />
<!--[if lt IE 9]>
<script src="https://mw2013.museumsandtheweb.com/wp-content/themes/twentyeleven/js/html5.js" type="text/javascript"></script>
<![endif]-->
<link rel='dns-prefetch' href='http://s.w.org/' />
<link rel="alternate" type="application/rss+xml" title="MW2013: Museums and the Web 2013 &raquo; Feed" href="../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="MW2013: Museums and the Web 2013 &raquo; Comments Feed" href="../../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="MW2013: Museums and the Web 2013 &raquo; Using Commodity Hardware as an Affordable Means to Track On-site Visitor Flow Comments Feed" href="feed/index.html" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.0.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/mw2013.museumsandtheweb.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.6"}};
			!function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,8205,55356,57212],[55357,56424,8203,55356,57212])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='wp-block-library-css'  href='../../wp-includes/css/dist/block-library/style.min40df.css?ver=5.6' type='text/css' media='all' />
<link rel="https://api.w.org/" href="../../wp-json/index.html" /><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.6" />
<link rel="canonical" href="index.html" />
<link rel='shortlink' href='../../index3c98.html?p=3817' />
<link rel="alternate" type="application/json+oembed" href="../../wp-json/oembed/1.0/embed2f67.json?url=https%3A%2F%2Fmw2013.museumsandtheweb.com%2Fpaper%2F3817%2F" />
<link rel="alternate" type="text/xml+oembed" href="../../wp-json/oembed/1.0/embed802e?url=https%3A%2F%2Fmw2013.museumsandtheweb.com%2Fpaper%2F3817%2F&amp;format=xml" />
<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #850000; }
</style>
	</head>

<body class="paper-template-default single single-paper postid-3817 custom-background two-column right-sidebar">
<div id="page" class="hfeed">
	<header id="branding" role="banner">
			<hgroup>
				<h1 id="site-title"><span><a href="../../index.html" title="MW2013: Museums and the Web 2013" rel="home">MW2013: Museums and the Web 2013</a></span></h1>
				<h2 id="site-description">The annual conference of Museums and the Web | April 17-20, 2013 | Portland, OR, USA</h2>
			</hgroup>

						<a href="../../index.html">
									<img src="../../wp-content/uploads/2012/09/portland_strip.jpg" width="1000" height="288" alt="" />
							</a>
			
								<form method="get" id="searchform" action="https://mw2013.museumsandtheweb.com/">
		<label for="s" class="assistive-text">Search</label>
		<input type="text" class="field" name="s" id="s" placeholder="Search" />
		<input type="submit" class="submit" name="submit" id="searchsubmit" value="Search" />
	</form>
			
			<nav id="access" role="navigation">
				<h3 class="assistive-text">Main menu</h3>
								<div class="skip-link"><a class="assistive-text" href="#content" title="Skip to primary content">Skip to primary content</a></div>
				<div class="skip-link"><a class="assistive-text" href="#secondary" title="Skip to secondary content">Skip to secondary content</a></div>
								<div class="menu-mw2013-menu-container"><ul id="menu-mw2013-menu" class="menu"><li id="menu-item-238" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-has-children menu-item-238"><a href="../../index.html">About</a>
<ul class="sub-menu">
	<li id="menu-item-603" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-603"><a href="http://www.museumsandtheweb.com/">MW Community</a></li>
	<li id="menu-item-6483" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6483"><a href="http://www.museumsandtheweb.com/conferences/">Conferences</a></li>
</ul>
</li>
<li id="menu-item-2524" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-2524"><a href="../../news/index.html">News</a></li>
<li id="menu-item-262" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-262"><a href="../../attending/index.html">Attending</a>
<ul class="sub-menu">
	<li id="menu-item-2357" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2357"><a href="../../registration/index.html">Registration</a></li>
	<li id="menu-item-244" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-244"><a href="../../key-dates/index.html">Key Dates</a></li>
	<li id="menu-item-243" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-243"><a href="../../local-information/index.html">Local Information</a></li>
	<li id="menu-item-242" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-242"><a href="../../call-for-proposals/index.html">Call for Proposals</a>
	<ul class="sub-menu">
		<li id="menu-item-508" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-508"><a href="../../call-for-proposals/guidelines-for-proposals/index.html">Guidelines for Proposals</a></li>
		<li id="menu-item-509" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-509"><a href="../../terms-and-conditions/index.html">Terms and Conditions</a></li>
		<li id="menu-item-510" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-510"><a href="../../submit-proposal/index.html">Submit Proposal</a></li>
		<li id="menu-item-2574" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2574"><a href="../../paper-guidelines/index.html">Paper Guidelines</a></li>
		<li id="menu-item-5875" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5875"><a href="../../call-for-proposals/presentation-guidelines/index.html">Presentation Guidelines</a></li>
	</ul>
</li>
	<li id="menu-item-714" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-714"><a href="../../scholarships-volunteering/index.html">Scholarships &#038; Volunteering</a></li>
	<li id="menu-item-3146" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3146"><a href="../../exhibitor-rates/index.html">Sponsorship</a></li>
</ul>
</li>
<li id="menu-item-526" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-526"><a href="../../exhibiting/index.html">Exhibiting</a>
<ul class="sub-menu">
	<li id="menu-item-3196" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3196"><a href="../../exhibitor-rates/index.html">Exhibitor Rates</a></li>
	<li id="menu-item-527" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-527"><a href="../../exhibiting/exhibition-terms/index.html">Exhibition Terms</a></li>
	<li id="menu-item-263" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-263"><a href="../../registration/exhibitor-registration/index.html">Exhibitor Registration</a></li>
	<li id="menu-item-1935" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1935"><a href="../../guidelines-for-advertisers/index.html">Guidelines for Advertisers</a></li>
</ul>
</li>
<li id="menu-item-689" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-689"><a href="../../conference/index.html">Conference</a>
<ul class="sub-menu">
	<li id="menu-item-4186" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4186"><a href="../../program/index.html">Program</a></li>
	<li id="menu-item-700" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-700"><a href="../../sessions/index.html">Sessions</a></li>
	<li id="menu-item-697" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-697"><a href="../../workshops/index.html">Workshops</a></li>
	<li id="menu-item-6745" class="menu-item menu-item-type-post_type menu-item-object-post menu-item-6745"><a href="../../introducing-mwx2013-new-exhibition-program-for-museums-and-the-web/index.html">MWX</a></li>
	<li id="menu-item-3220" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3220"><a href="../../best-of-the-web/index.html">Best of the Web</a>
	<ul class="sub-menu">
		<li id="menu-item-6424" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6424"><a href="../../best-of-the-web-winners/index.html">Best of the Web Winners</a></li>
		<li id="menu-item-3221" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3221"><a href="../../best-of-the-web-criteria/index.html">Best of the Web Criteria</a></li>
		<li id="menu-item-3228" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3228"><a href="../../best-of-the-web-nominees/index.html">Best of the Web Nominees</a></li>
	</ul>
</li>
	<li id="menu-item-701" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-701"><a href="../../demonstrations/index.html">Demonstrations</a></li>
	<li id="menu-item-6255" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6255"><a href="../../salons/index.html">Salons</a></li>
	<li id="menu-item-528" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-528"><a href="../../exhibits/index.html">Exhibits</a></li>
	<li id="menu-item-702" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-702"><a href="../../sponsors/index.html">Sponsors</a></li>
	<li id="menu-item-6478" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6478"><a href="../../papers/index.html">Papers</a></li>
	<li id="menu-item-719" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-719"><a href="../../proceedings/index.html">Proceedings</a></li>
</ul>
</li>
<li id="menu-item-730" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-730"><a href="../../people/index.html">People</a>
<ul class="sub-menu">
	<li id="menu-item-731" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-731"><a href="../../speakers-authors/index.html">Speakers &#038; Authors</a></li>
	<li id="menu-item-732" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-732"><a href="../../attendees/index.html">Attendees</a></li>
	<li id="menu-item-257" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-257"><a href="../../program-committee/index.html">Program Committee</a></li>
	<li id="menu-item-3135" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3135"><a href="../../bow-committee/index.html">BoW Committee</a></li>
</ul>
</li>
<li id="menu-item-6564" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6564"><a href="http://www.museumsandtheweb.com/publication-order/">Publications</a></li>
</ul></div>			</nav><!-- #access -->
	</header><!-- #branding -->


	<div id="main">

<style type="text/css">
#full_width_content {
	margin-left: 76px;
	margin-right: 76px;
}

h2, h3, h4 {
	font-weight: bold;
}
</style>

<div id="primary">
<div id="full_width_content">
			

<h1 class="entry-title">Using Commodity Hardware as an Affordable Means to Track On-site Visitor Flow</h1>
<br />

<a href="../../user/index91a8.html?u=gbowman">Gray Bowman</a>, USA, <a href="../../user/index4473.html?u=kjaebker">Kyle Jaebker</a>, USA<br /><br /><b>Abstract</b><br />
<p>Low cost computing enables the cultural sector to pursue distributed tracking and monitoring systems that were out of reach just a couple of years ago. See how the IMA is using ultra-affordable computing to build an onsite visitor tracking system, and how log analysis is performed in order to map tracking data.</p>
<p><b>Keywords: </b>mobile, visitor tracking, analytics, audience evaluation, commodity hardware, WiFi, RaspberryPi</p>
<h2>1. Introduction</h2>
<p>Museums have long been interested in the evaluation of their spaces and how visitors interact with works of art. Recording how visitors move from gallery to gallery and where they stop has often been the task of trained observers in the galleries. This process is done to determine if the information displayed is accessible and engaging. As the costs of technology continue to decrease, finding technological means to automate the tracking of visitors could lead to additional findings and help inform the evaluation process. Having access to records of which galleries people entered, from where, and the length of stay can enlighten a museum in many ways. This data can be used to determine gallery layout and wayfinding needs, or to inform other decisions about how a collection is displayed to the visitor. In addition, users can be provided with information through their smartphones about the area of the museum they are in.</p>
<p>An increasing number of museum patrons are bringing smartphones when visiting. Smartphone penetration levels are continually increasing, with the NPD Group (2012) reporting 70 percent penetration in Q3 of 2012. Additionally, comScore (2013) reports that 123.3 million Americans now own smartphones. These numbers will continue to rise as the cost of low-end smartphones further declines and more mobile phone users make the switch to smartphones.</p>
<p>The Audience Engagement department at the Indianapolis Museum of Art (IMA) has administered exit surveys to get a better understanding of who visits the museum. Starting in September 2012, the IMA added the question, “Are you carrying a smartphone with you today?” Based on 350 responses, 73.3 percent of respondents were carrying a smartphone. This percentage falls in line with recent studies, as mentioned earlier. In addition, the IMA found that for the age group from 25 to 44, 83.7 percent of visitors carried a smartphone. This age group accounted for approximately 56 percent of total visitors during this survey period. All of these statistics indicate the continued growth of smartphones and their prevalence in museums.</p>
<p>While commercial applications exist for tracking users throughout a space, they are prohibitively expensive for most institutions and rely on proprietary technologies. In the last five years, an explosion of easily accessible and low-cost technologies has come to market that are aimed at making device-building accessible, and fostering education about electronics and computers. The Arduino and the Raspberry Pi are examples of open-source projects producing hardware to serve both the microcontroller and computer markets that have built a large following. Both components are often featured as the core of many homebrew projects.</p>
<p>The IMA wanted to find a low-cost device for this purpose, and after a few brainstorming sessions it was determined that building our own low-cost device using off-the-shelf components and software could be possible. With this idea in mind, the IMA built a tracking device with a server backend that could aggregate the data collected. From December 21, 2012, the tracking device was deployed near the front desk of the IMA. This allowed for the collection of data as visitors entered the museum and moved into the galleries.</p>
<h2>2. Building a low-cost tracker</h2>
<h3>Overview</h3>
<p>A majority of smartphones and mobile devices are configured to prioritize Wi-Fi over other types of data connections. As these devices are carried around, they search for a network to connect to. Even if already connected, the device will search for a network that is preferred over the current connection. This is done by broadcasting a packet of data known as a &#8220;probe request.&#8221; If the requested network is present, it will answer the request and establish a connection.</p>
<p>Generally, one probe request is broadcast for each network the device has previously connected to. Each probe request contains the MAC (Media Access Control) address of the device, an identifier intended to be unique to the device sending it. These probe requests are unencrypted, and other than the MAC address, do not contain any personally identifiable information. It is the capturing of these requests that allows the analysis of visitor traffic.</p>
<p>By utilizing a network of Wi-Fi-equipped, low-cost computers, it is possible to capture these broadcasts from multiple locations, anonymize the device identifiers while keeping them unique, and store them in a central database for analysis. This data can then be used to show traffic patterns, totals, and frequency.</p>
<h3>Hardware</h3>
<p>The Raspberry Pi Model B is a low-cost, general-purpose computer, about the size of a credit card, that runs Linux. It is based on a 700MHz ARM11 CPU, has multiple on-board peripheral connections, and is available for $35. It requires an SD card for storage of the operating system and software, and a USB Wi-Fi adapter for capturing the wireless traffic.</p>
<p>For the prototype agent, a 16-gigabyte SD card was used. The only storage consideration is the size of the log file, which is reported to the server in real time, but continues to grow until truncated. The agent is configured to do this automatically each day, so enough storage to hold a days worth of data is required.</p>
<p>After researching many Wi-Fi adapters, the TP-Link TL-WN722N was chosen. It supports “b,” “g,” and “n” type networks, and comes with a high-gain antenna. More importantly, this adapter supports monitor mode and allows us to retrieve diagnostic information such as signal strength. Monitor mode is a configuration that allows the adapter to listen to all traffic on the radio band without being associated to any one network, and is required to capture all traffic.</p>
<p>Each agent device built to the specifications above requires a power source and an ethernet connection. A standard micro USB AC adapter is used for power. It is important to use a power source rated at 1A or greater to supply enough current for both the Raspberry Pi and the Wi-Fi adapter. Connecting the agent to an ethernet port allows the collected data to be transmitted back to the server without interrupting the collection of probe requests over the Wi-Fi adapter.</p>
<p><a href="../../wp-content/uploads/2013/01/bowman.fig1_.jpg"><img loading="lazy" class="alignnone size-medium wp-image-3825" alt="bowman.fig1" src="../../wp-content/uploads/2013/01/bowman.fig1_-300x151.jpg" width="300" height="151" srcset="https://mw2013.museumsandtheweb.com/wp-content/uploads/2013/01/bowman.fig1_-300x151.jpg 300w, https://mw2013.museumsandtheweb.com/wp-content/uploads/2013/01/bowman.fig1_-1024x515.jpg 1024w, https://mw2013.museumsandtheweb.com/wp-content/uploads/2013/01/bowman.fig1_-500x251.jpg 500w, https://mw2013.museumsandtheweb.com/wp-content/uploads/2013/01/bowman.fig1_.jpg 1600w" sizes="(max-width: 300px) 100vw, 300px" /></a><br />
Figure 1. Completed agent hardware</p>
<h3>Agent Software</h3>
<p>The software stack for the agents consist of Linux, Tshark, and Python. The Raspbian OS is a custom Linux distribution derivative of Debian Linux meant for use on the Raspberry Pi. It has a large collection of packages available for it, precompiled as needed for the ARM processor.</p>
<p>Wireshark is an open-source network packet analyzer that allows the capture and filtering of all data transmitted across the network. It also enables collection of radio diagnostic data not normally exposed by the adapter to the operating system, such as radio signal strength.</p>
<p>While Wireshark provides a GUI interface for these tasks, Tshark is the command-line-only version of Wireshark. It is a perfect fit for the low-powered Raspberry Pi, using minimal resources and allowing the capture to be easily scripted.</p>
<p>The popular, general-purpose programming language Python is used to control the Tshark process, handle failures, and transmit the collected data back to the central database. All data is transmitted via HTTP.</p>
<h3>Server Software</h3>
<p>The central server was built using Django, a web application framework backed by MySQL. It provides an endpoint for the capturing agents to report to, as well as an administrative interface to view the collected data. The Django ORM (Object-Relational Mapping) also provides an easy way for developers to form advanced queries against the data.</p>
<h3>Availability</h3>
<p>All software created for this project has been open-sourced and is available on GitHub (https://github.com/IMAmuseum/visitorflow).</p>
<h3>Process</h3>
<p>The agent is placed in an area of traffic and connected to Ethernet and power. After booting, the “listen” Python script is invoked by a cron task, and a short delay of a few seconds is inserted to ensure all booting processes are stabilized.</p>
<p>The Tshark process is initiated and monitored by the Python script. Should the process fail or end, it will be restarted automatically. Tshark logs all the captured probe requests to a text file as they are observed. There are a plethora of options when initializing Tshark, and filtering criteria is specified at run time. The Linux utility “stdbuf” is used to disable buffering of the output. Our prototype used the following options to isolate the probe requests:</p>
<p style="padding-left: 30px;"><code>stdbuf -oL tshark -i wlan0 -I -f 'broadcast' -R 'wlan.fc.type == 0 &amp;&amp; wlan.fc.subtype == 4' -T fields -e frame.time_epoch -e wlan.sa -e radiotap.dbm_antsignal &gt; tshark.log</code></p>
<p>The “listen” script runs through a loop that ensures Tshark is running, and monitors the Tshark log. As Tshark adds probe requests to the log, they are read in by the script and forwarded to the back-end server as an HTTP POST request. Should the Python script fail for any reason, the cron task that initiated it will reboot the device and the process will begin anew.</p>
<p>On the server side, the Django web application receives the HTTP request, parses the POST data, and saves it to the database for later analysis. To assist in the data analysis, a Python script was developed to process the data received by the server. As stated earlier, a device sends probe requests for each network it knows of; for instance, if a device has seven previously known networks, seven probe requests are transmitted. The processing script parsed through all requests and converted these groupings of requests to a single record.</p>
<h2>3. Visitor analytics</h2>
<p>Using the data captured by the visitor tracking agent, one can start to get a picture of how many devices enter the building. By capturing the mac address of each device (and obfuscating it), a record is logged each time that device is detected by the agent. This data can then be used to count the number of devices over a given period of time. Figure 2 shows the number of devices detected per day during the testing period. The gap in the data is due to the agent being offline, and no data was collected.<br />
<a href="../../wp-content/uploads/2013/01/bowman.fig2_.png"><img loading="lazy" class="alignnone size-medium wp-image-3826" alt="bowman.fig2" src="../../wp-content/uploads/2013/01/bowman.fig2_-300x191.png" width="300" height="191" srcset="https://mw2013.museumsandtheweb.com/wp-content/uploads/2013/01/bowman.fig2_-300x191.png 300w, https://mw2013.museumsandtheweb.com/wp-content/uploads/2013/01/bowman.fig2_-1024x652.png 1024w, https://mw2013.museumsandtheweb.com/wp-content/uploads/2013/01/bowman.fig2_-470x300.png 470w, https://mw2013.museumsandtheweb.com/wp-content/uploads/2013/01/bowman.fig2_.png 1384w" sizes="(max-width: 300px) 100vw, 300px" /></a><br />
Figure 2. Unique devices per day</p>
<p>In addition to tracking how many unique devices are detected per day, the data can show how often a device is detected. This would allow for the museum to detect how often a visitor returns, as well as an approximate length of their visit(s). Figure 3 shows how many times a device was detected over the course of the observing period. Most devices were only detected once by the agent .<br />
<a href="../../wp-content/uploads/2013/01/bowman.fig3_.png"><img loading="lazy" class="alignnone size-medium wp-image-3828" alt="bowman.fig3" src="../../wp-content/uploads/2013/01/bowman.fig3_-300x180.png" width="300" height="180" srcset="https://mw2013.museumsandtheweb.com/wp-content/uploads/2013/01/bowman.fig3_-300x180.png 300w, https://mw2013.museumsandtheweb.com/wp-content/uploads/2013/01/bowman.fig3_-1024x617.png 1024w, https://mw2013.museumsandtheweb.com/wp-content/uploads/2013/01/bowman.fig3_-497x300.png 497w, https://mw2013.museumsandtheweb.com/wp-content/uploads/2013/01/bowman.fig3_.png 1467w" sizes="(max-width: 300px) 100vw, 300px" /></a><br />
Figure 3. Number of devices and how often they were detected</p>
<p>From September through December 2012, the IMA conducted a visitor exit survey. This survey collected data about how many visitors carried smartphones in the museum. It was determined that 73.3 percent of visitors to the IMA smartphones. Using this data, we can start to approximate the actual number of visitors based on the data collected by the agent. Figure 4 shows the number of unique devices and the number adjusted for the 26.7 percent of visitors that do not have smartphones. In addition, the IMA has a Trafsys counting system that counts the number of entrances into the IMA.<br />
<a href="../../wp-content/uploads/2013/01/bowman.fig4_.png"><img loading="lazy" class="alignnone size-medium wp-image-3829" alt="bowman.fig4" src="../../wp-content/uploads/2013/01/bowman.fig4_-300x196.png" width="300" height="196" srcset="https://mw2013.museumsandtheweb.com/wp-content/uploads/2013/01/bowman.fig4_-300x196.png 300w, https://mw2013.museumsandtheweb.com/wp-content/uploads/2013/01/bowman.fig4_-1024x670.png 1024w, https://mw2013.museumsandtheweb.com/wp-content/uploads/2013/01/bowman.fig4_-458x300.png 458w, https://mw2013.museumsandtheweb.com/wp-content/uploads/2013/01/bowman.fig4_.png 1600w" sizes="(max-width: 300px) 100vw, 300px" /></a><br />
Figure 4. Unique devices compared with Trafsys and adjusted devices</p>
<p>During this trial period, the agent detected a total of 11,469 devices. Adjusting for the IMA smartphone adoption rate of 73.3 percent, a total of 14,522 devices would have been detected if everyone had a smartphone. The Trafsys data for the same period of time (removing the dates where the agent was down) shows a total of 13,969 visitors to the IMA. The numbers of visitors counted by the Trafsys system and the agent differ by 3.96 percent. Further testing is needed to determine if these numbers would hold up over time, but it appears the agent has the ability to closely approximate the number of visitors to the museum. As discussed further in the drawbacks section, this calculation does not account for users with multiple devices. Adding some additional survey questions about all devices a user has at the museum could lead to a more accurate calculation of visitors.</p>
<h2>4. Possible applications</h2>
<p>With one device deployed at the IMA, only basic information about how many devices were being detected could be collected. Installing multiple devices across the museum would allow for some more advanced analytics and possible applications.</p>
<h3>Flow of People Between Areas</h3>
<p>Observing the flow of visitors throughout the galleries can be beneficial to museums in many ways. Knowing where people are more likely to visit in the museum and where they get lost can help with staffing and signage. Knowing how visitors move throughout a building also could inform where to place certain exhibitions and works to offer greater access and visibility.</p>
<p>By deploying multiple agents throughout the museum, visitor-flow detection becomes a possibility. As visitors move throughout the museum, their smartphones will be detected by different agents. Depending on how well known the range of each agent is, the flow of the user could possibly be determined. Consideration for where each device is placed and how its range overlaps nearby agents is important to note when setting up multiple devices.</p>
<h3>Triangulation</h3>
<p>With three or more agents positioned in an overlapping arrangement, determining the location of a detected device through triangulation becomes a possibility. This requires a Wi-Fi adapter that will provide the signal strength information to the operating system. When the same probe request is observed by two or more agents, the signal strength can be compared and an estimate of the device location can be made. If estimates were found to be reliable, devices could be plotted on a map in real time.</p>
<h2>5. Drawbacks</h2>
<h3>Smartphone penetration and Multiple Devices</h3>
<p>If every visitor to the museum were carrying a smartphone, calculating statistics on number and frequency of visits would be greatly simplified. General numbers are published for smartphone penetration in the United States and other markets but could vary widely for a particular museum. This causes problems when trying to determine how many actual visitors are visiting based on devices. Conducting on-site surveys could help produce a more accurate penetration percentage for a given location.</p>
<p>In addition to smartphone penetration, the agent does not differentiate what type of device is looking for a network. If a user is carrying a laptop, smartphone, and a tablet, all three devices could look for a network at the same time. This would cause an increase in the numbers and potentially throw off counting analytics. Again, one way to mediate this issue would be to do on-site surveys to determine what and how many devices the average visitor brings into the museum.</p>
<h3>Range</h3>
<p>The effective range of 802.11b/g Wi-Fi is 150 feet indoors or 300 feet outdoors. This 50-percent difference due to material penetration can severely distort the radio footprint of the agent. Varying antenna styles can be used to attempt to shape the signal, or agents can be positioned to compensate for signal loss.</p>
<h3>Bleed Over</h3>
<p>A degree of overlap in range between agents is desirable for the purpose of triangulation. However, the unpredictability in range and signal penetration can present difficulties in planning the overlap. Testing and tuning the agents should be done to form a consistent overlap between networks.</p>
<h3>Perceived Privacy</h3>
<p>It is likely that most device carriers are not aware that all of their previous connections are broadcast everywhere they go. Many can find the notion of tracking an individual’s location between rooms or buildings to be an unacceptable use of their digital presence, even if perfectly legal.</p>
<h3>Smartphone Wi-fi Enabled</h3>
<p>For the agent to collect any data from a user, the user&#8217;s smartphone must have Wi-Fi enabled. Some users looking to extend the battery life of their smartphones might turn off Wi-Fi, so those devices would not be detected. In addition, if a user has never accessed a Wi-Fi hotspot in the past, the packets of data that are sent to detect known networks are not transmitted. This again would make the device invisible to the agent.</p>
<h2>6. Next steps</h2>
<p>While the current dataset collected is quite small, the results are promising, and the IMA will continue to evaluate this solution for tracking visitors throughout the museum. The IMA will look to purchase and build more agents to test some of the proposed applications above. The ability to collect from multiple agents will give us a better idea if this solution would accommodate a museum-wide fleet of devices and how many devices would be necessary for solid coverage. As more data is collected, it will be important to closely monitor the data and determine proper algorithms for processing the data into a useful dataset.</p>
<p>In addition to purchasing more devices, continuing development of the software will be important for further study. Building a real-time dashboard that will show the status of each agent will allow easier monitoring to help prevent downtime. Live reporting tools would also allow for easy access to the data to determine how many devices are currently in the museum. Trends over time could be graphed and broken down by agent location. If triangulation was found to be reliable, a map of the museum could be displayed with the estimated positions of all detected devices.</p>
<p>Tracking via Bluetooth signal is another option to be explored.  Bluetooth has a shorter range (5 to 30 meters) than Wi-Fi and may be more difficult to observe. However, the shorter range could provide better resolution to the triangulation. Unfortunately, a majority of smartphones disable the discoverability of their Bluetooth presence, so a custom device would likely need to be provided to the visitors.</p>
<p>Providing smartphone users with relevant information about where they are in the museum is also a task to investigate. The agents are able to quickly receive probe requests but this data will need processed into a usable state for a smartphone application or website. Having complete Wi-Fi or cell coverage in the galleries will be required to allow the smartphone user to connect to the app or website to receive the location data processed by the agents.</p>
<p>Indoor location and tracking is a young and constantly changing technology; many new ideas will be formed as this space continues to grow. Museums will be wise to watch how the technology advances so they can provide users with a more engaging experience through their smartphones.</p>
<h2>7. Acknowledgements</h2>
<p>We would like to thank the Indianapolis Museum of Art Audience Engagement department for conducting the visitor exit surveys, and Silvia Filippini-Fantoni for providing us with useful data from the surveys to use in this paper.</p>
<h2>8. References</h2>
<p>comScore. (2013). &#8220;comScore reports November 2012 U.S. mobile subscriber market share.&#8221; Press release. January 3, 2013. Consulted January 27, 2013. <a href="http://www.comscore.com/Insights/Press_Releases/2013/1/comScore_Reports_November_2012_U.S._Mobile_Subscriber_Market_Share">http://www.comscore.com/Insights/Press_Releases/2013/1/comScore_Reports_November_2012_U.S._Mobile_Subscriber_Market_Share</a></p>
<p>NPD Group. (2012). &#8220;The NPD Group: Lower prices and larger selection boost pre-paid mobile phone carriers.&#8221; November 15, 2012. Consulted January 27, 2013. <a href="https://www.npd.com/wps/portal/npd/us/news/press-releases/the-npd-group-lower-prices-and-larger-selection-boost-pre-paid-mobile-phone-carriers/">https://www.npd.com/wps/portal/npd/us/news/press-releases/the-npd-group-lower-prices-and-larger-selection-boost-pre-paid-mobile-phone-carriers/</a></p>

<hr>

<script type="text/javascript">
var d=new Date();
var month=new Array();
month[0]="January";
month[1]="February";
month[2]="March";
month[3]="April";
month[4]="May";
month[5]="June";
month[6]="July";
month[7]="August";
month[8]="September";
month[9]="October";
month[10]="November";
month[11]="December";

var day_number=d.getDate();
var month_name=month[d.getMonth()];
var year=d.getFullYear();
var full_date = month_name+" "+day_number+", "+year;
</script>

Cite as:<br /> 

G. Bowman and K. Jaebker, Using Commodity Hardware as an Affordable Means to Track On-site Visitor Flow. In <i>Museums and the Web 2013</i>, N. Proctor & R. Cherry (eds). Silver Spring, MD: Museums and the Web. Published January 31, 2013. Consulted <script type="text/javascript">document.write(full_date);</script> <!-- April 23, 2022 -->.<br />
https://mw2013.museumsandtheweb.com/paper/3817/<br /><br /><hr>
<!-- 
<script type="text/javascript" src='http://cdnjs.cloudflare.com/ajax/libs/jstimezonedetect/1.0.4/jstz.min.js'></script>
<script type="text/javascript">
var tz = jstz.determine();
tz.name();
</script>


<script type="text/javascript">document.write(tz.name()); 
</script>UTCApril 23, 2022-->

	<div id="comments">
	
	
			<h2 id="comments-title">
			2 thoughts on &ldquo;<span>Using Commodity Hardware as an Affordable Means to Track On-site Visitor Flow</span>&rdquo;		</h2>

		
		<ol class="commentlist">
			
	<li class="comment even thread-even depth-1" id="li-comment-154">

		<article id="comment-154" class="comment">

			<footer class="comment-meta">

				<div class="comment-author vcard">

					<img alt='' src='https://secure.gravatar.com/avatar/ba052d3874cbf97832ff0e1d9af06a8c?s=68&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/ba052d3874cbf97832ff0e1d9af06a8c?s=136&#038;d=mm&#038;r=g 2x' class='avatar avatar-68 photo' height='68' width='68' loading='lazy'/><span class="fn">Adam Buddemeyer</span> on <a href="index.html#comment-154"><time pubdate datetime="2013-07-17T10:22:51-04:00">July 17, 2013 at 10:22 am</time></a> <span class="says">said:</span>


					
				</div><!-- .comment-author .vcard -->



				


			</footer>



			<div class="comment-content"><p>Hi, I had a quick question about using tshark. I was wondering when it displays the negative decibels what that unit is measuring. I am trying to use tshark to locate distance away from the device to the antenna. Thanks for the help.</p>
</div>



			<div class="reply">

				<a rel="nofollow" class="comment-reply-login" href="../../wp-login29d6.html?redirect_to=https%3A%2F%2Fmw2013.museumsandtheweb.com%2Fpaper%2F3817%2F">Log in to Reply</a>
			</div><!-- .reply -->

		</article><!-- #comment-## -->



	</li><!-- #comment-## -->

	<li class="comment byuser comment-author-msven odd alt thread-odd thread-alt depth-1" id="li-comment-134641">

		<article id="comment-134641" class="comment">

			<footer class="comment-meta">

				<div class="comment-author vcard">

					<img alt='' src='https://secure.gravatar.com/avatar/fa1187bd187a0ddfbd64ce01d8d1a176?s=68&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/fa1187bd187a0ddfbd64ce01d8d1a176?s=136&#038;d=mm&#038;r=g 2x' class='avatar avatar-68 photo' height='68' width='68' loading='lazy'/><span class="fn">msven</span> on <a href="index.html#comment-134641"><time pubdate datetime="2014-10-23T11:34:31-04:00">October 23, 2014 at 11:34 am</time></a> <span class="says">said:</span>


					
				</div><!-- .comment-author .vcard -->



				


			</footer>



			<div class="comment-content"><p>Thanks for the post!  I am doing a project for one of my Master&#8217;s classes and this gave some great direction for how to do it on my own (e.g. hardware to use, stdbuf, etc).</p>
</div>



			<div class="reply">

				<a rel="nofollow" class="comment-reply-login" href="../../wp-login29d6.html?redirect_to=https%3A%2F%2Fmw2013.museumsandtheweb.com%2Fpaper%2F3817%2F">Log in to Reply</a>
			</div><!-- .reply -->

		</article><!-- #comment-## -->



	</li><!-- #comment-## -->
		</ol>

		
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="index.html#respond" style="display:none;">Cancel reply</a></small></h3><p class="must-log-in">You must be <a href="../../wp-login29d6.html?redirect_to=https%3A%2F%2Fmw2013.museumsandtheweb.com%2Fpaper%2F3817%2F">logged in</a> to post a comment.</p>	</div><!-- #respond -->
	
</div><!-- #comments -->

</div><!-- #content -->
</div><!-- #primary -->



	</div><!-- #main -->

	<footer id="colophon" role="contentinfo">

			
<div id="supplementary" class="two">
		<div id="first" class="widget-area" role="complementary">
		<aside id="text-2" class="widget widget_text">			<div class="textwidget">Founded by Archives & Museum Informatics<br>
<a href="http://www.archimuse.com/">www.archimuse.com</a></div>
		</aside>	</div><!-- #first .widget-area -->
	
	
		<div id="third" class="widget-area" role="complementary">
		<aside id="text-3" class="widget widget_text">			<div class="textwidget"><p style="text-align: right; ">
Managed by Museums and the Web LLC<br>
703 Dale Drive<br>
Silver Spring MD 20910 USA<br>
info@museumsandtheweb.com</div>
		</aside>	</div><!-- #third .widget-area -->
	</div><!-- #supplementary -->
			<div id="site-generator">
								<a href="http://wordpress.org/" title="Semantic Personal Publishing Platform" rel="generator">Proudly powered by WordPress</a>
			</div>
	</footer><!-- #colophon -->
</div><!-- #page -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-26332456-1"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-26332456-1', {
  		'linker': {
    	'domains': ['museweb.net', 'mwconf.org', 'museumsandtheweb.com']
  }
});
</script>

<script type='text/javascript' src='../../wp-includes/js/comment-reply.min40df.js?ver=5.6' id='comment-reply-js'></script>
<script type='text/javascript' src='../../wp-includes/js/wp-embed.min40df.js?ver=5.6' id='wp-embed-js'></script>

</body>

<!-- Mirrored from mw2013.museumsandtheweb.com/paper/3817/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 23 Apr 2022 21:29:01 GMT -->
</html>